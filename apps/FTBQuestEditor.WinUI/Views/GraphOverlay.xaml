<UserControl
    x:Class="FTBQuestEditor.WinUI.Views.GraphOverlay"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:validation="using:FTBQuests.Validation"
    xmlns:local="using:FTBQuestEditor.WinUI.Views"
    x:Name="Self">
    <Grid>
        <Canvas x:Name="LinkCanvas" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" />
        <ItemsControl
            x:Name="ValidationPresenter"
            ItemsSource="{x:Bind Self.ValidationIssues, Mode=OneWay}"
            HorizontalAlignment="Left"
            VerticalAlignment="Top"
            Margin="12"
            IsHitTestVisible="False">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <StackPanel Orientation="Vertical" Spacing="8" />
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
            <ItemsControl.ItemTemplate>
                <DataTemplate x:DataType="validation:ValidationIssue">
                    <InfoBar
                        IsOpen="True"
                        IsClosable="False"
                        Severity="{x:Bind Self.MapSeverity(Severity)}"
                        Title="Dependency issue detected"
                        Message="{x:Bind Message}" />
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>
    </Grid>
</UserControl>
